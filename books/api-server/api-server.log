{"level":"info","time":"2022-06-09 21:38:42.451","line":"common/log_init.go:99","msg":"/","serviceName":"api-server","status":200,"method":"GET","path":"/","query":"","ip":"127.0.0.1","user-agent":"curl/7.68.0","errors":"","cost":0.000196788}
{"level":"info","time":"2022-06-09 21:39:24.014","line":"common/log_init.go:99","msg":"/","serviceName":"api-server","status":200,"method":"GET","path":"/","query":"name=33","ip":"127.0.0.1","user-agent":"curl/7.68.0","errors":"","cost":0.00006499}
{"level":"info","time":"2022-06-09 22:09:59.379","line":"common/log_init.go:99","msg":"/test","serviceName":"api-server","status":404,"method":"GET","path":"/test","query":"name=33","ip":"127.0.0.1","user-agent":"curl/7.68.0","errors":"","cost":0.00000069}
{"level":"info","time":"2022-06-09 22:18:25.263","line":"common/log_init.go:99","msg":"/test","serviceName":"api-server","status":404,"method":"GET","path":"/test","query":"name=33","ip":"127.0.0.1","user-agent":"curl/7.68.0","errors":"","cost":0.00000075}
{"level":"info","time":"2022-06-09 22:18:59.659","line":"common/log_init.go:99","msg":"/test","serviceName":"api-server","status":404,"method":"GET","path":"/test","query":"name=33","ip":"127.0.0.1","user-agent":"curl/7.68.0","errors":"","cost":0.00000118}
{"level":"info","time":"2022-06-09 22:19:05.942","line":"common/log_init.go:99","msg":"/test","serviceName":"api-server","status":404,"method":"GET","path":"/test","query":"name=33","ip":"127.0.0.1","user-agent":"curl/7.68.0","errors":"","cost":0.00000093}
{"level":"info","time":"2022-06-09 22:20:12.523","line":"common/log_init.go:99","msg":"/test","serviceName":"api-server","status":404,"method":"GET","path":"/test","query":"name=33","ip":"127.0.0.1","user-agent":"curl/7.68.0","errors":"","cost":15.491366181}
{"level":"info","time":"2022-06-09 22:25:39.425","line":"common/log_init.go:99","msg":"/","serviceName":"api-server","status":200,"method":"GET","path":"/","query":"name=33","ip":"127.0.0.1","user-agent":"curl/7.68.0","errors":"","cost":0.000095229}
{"level":"info","time":"2022-06-11 14:05:04.141","line":"api-server/api.go:30","msg":"the configuration parsed","serviceName":"api-server","content":"{\"ApiServerConfig\":{\"LogLevel\":\"INFO\",\"LogPath\":\"./log/\",\"OutputConsole\":true,\"Dev\":true,\"ServiceName\":\"api-server\",\"Port\":9999,\"BindAddress\":\"\"},\"MongoConfig\":{\"Protocol\":\"\",\"Database\":\"\",\"Username\":\"\",\"Password\":\"\",\"Host\":\"\",\"Port\":0,\"MaxPoolSize\":0,\"ConnectionTimeout\":0}}"}
{"level":"info","time":"2022-06-11 14:06:01.254","line":"api-server/api.go:30","msg":"the configuration parsed","serviceName":"api-server","content":"{\"ApiServerConfig\":{\"LogLevel\":\"INFO\",\"LogPath\":\"./log/\",\"OutputConsole\":true,\"Dev\":true,\"ServiceName\":\"api-server\",\"Port\":9999,\"BindAddress\":\"\"},\"MongoConfig\":{\"Protocol\":\"mongodb\",\"Database\":\"articles\",\"Username\":\"db_user\",\"Password\":\"db_pwd\",\"Host\":\"127.0.0.1\",\"Port\":27017,\"MaxPoolSize\":0,\"ConnectionTimeout\":0}}"}
{"level":"info","time":"2022-06-11 14:07:07.093","line":"api-server/api.go:30","msg":"the configuration parsed","serviceName":"api-server","content":"{\"ApiServerConfig\":{\"LogLevel\":\"INFO\",\"LogPath\":\"./log/\",\"OutputConsole\":true,\"Dev\":true,\"ServiceName\":\"api-server\",\"Port\":9999,\"BindAddress\":\"\"},\"MongoConfig\":{\"Protocol\":\"mongodb\",\"Database\":\"articles\",\"Username\":\"db_user\",\"Password\":\"db_pwd\",\"Host\":\"127.0.0.1\",\"Port\":27017,\"MaxPoolSize\":0,\"ConnectionTimeout\":0}}"}
{"level":"info","time":"2022-06-11 14:09:21.660","line":"api-server/api.go:30","msg":"the configuration parsed","serviceName":"api-server","content":"{\"ApiServerConfig\":{\"LogLevel\":\"INFO\",\"LogPath\":\"./log/\",\"OutputConsole\":true,\"Dev\":true,\"ServiceName\":\"api-server\",\"Port\":9999,\"BindAddress\":\"\"},\"MongoConfig\":{\"Protocol\":\"mongodb\",\"Database\":\"articles\",\"Username\":\"db_user\",\"Password\":\"db_pwd\",\"Host\":\"127.0.0.1\",\"Port\":27017,\"MaxPoolSize\":0,\"ConnectionTimeout\":0}}"}
{"level":"info","time":"2022-06-11 14:09:21.661","line":"initialization/mongodb_init.go:21","msg":"The mongo url","serviceName":"api-server","url":"mongodb://db_user:db_pwd@127.0.0.1:27017/0"}
{"level":"info","time":"2022-06-11 14:11:14.225","line":"api-server/api.go:30","msg":"the configuration parsed","serviceName":"api-server","content":"{\"ApiServerConfig\":{\"LogLevel\":\"INFO\",\"LogPath\":\"./log/\",\"OutputConsole\":true,\"Dev\":true,\"ServiceName\":\"api-server\",\"Port\":9999,\"BindAddress\":\"\"},\"MongoConfig\":{\"Protocol\":\"mongodb\",\"Database\":\"books\",\"Username\":\"db_user\",\"Password\":\"db_pwd\",\"Host\":\"127.0.0.1\",\"Port\":27017,\"MaxPoolSize\":0,\"ConnectionTimeout\":0}}"}
{"level":"info","time":"2022-06-11 14:11:14.225","line":"initialization/mongodb_init.go:21","msg":"The mongo url","serviceName":"api-server","url":"mongodb://db_user:db_pwd@127.0.0.1:27017/books"}
{"level":"info","time":"2022-06-11 14:23:56.302","line":"api-server/api.go:30","msg":"the configuration parsed","serviceName":"api-server","content":"{\"ApiServerConfig\":{\"LogLevel\":\"INFO\",\"LogPath\":\"./log/\",\"OutputConsole\":true,\"Dev\":true,\"ServiceName\":\"api-server\",\"Port\":9999,\"BindAddress\":\"\"},\"MongoConfig\":{\"Protocol\":\"mongodb\",\"Database\":\"books\",\"Username\":\"db_user\",\"Password\":\"db_pwd\",\"Host\":\"127.0.0.1\",\"Port\":27017,\"MaxPoolSize\":0,\"ConnectionTimeout\":0,\"UriParams\":\"\"}}"}
{"level":"info","time":"2022-06-11 14:23:56.302","line":"initialization/mongodb_init.go:23","msg":"The mongo url","serviceName":"api-server","url":"mongodb://db_user:db_pwd@127.0.0.1:27017/books"}
{"level":"info","time":"2022-06-11 14:25:12.963","line":"api-server/api.go:30","msg":"the configuration parsed","serviceName":"api-server","content":"{\"ApiServerConfig\":{\"LogLevel\":\"INFO\",\"LogPath\":\"./log/\",\"OutputConsole\":true,\"Dev\":true,\"ServiceName\":\"api-server\",\"Port\":9999,\"BindAddress\":\"\"},\"MongoConfig\":{\"Protocol\":\"mongodb\",\"Database\":\"books\",\"Username\":\"db_user\",\"Password\":\"db_pwd\",\"Host\":\"127.0.0.1\",\"Port\":27017,\"MaxPoolSize\":0,\"ConnectionTimeout\":0,\"UriParams\":\"\"}}"}
{"level":"info","time":"2022-06-11 14:25:12.963","line":"initialization/mongodb_init.go:23","msg":"The mongo url","serviceName":"api-server","url":"mongodb://db_user:db_pwd@127.0.0.1:27017/books"}
{"level":"info","time":"2022-06-11 14:26:07.306","line":"api-server/api.go:30","msg":"the configuration parsed","serviceName":"api-server","content":"{\"ApiServerConfig\":{\"LogLevel\":\"INFO\",\"LogPath\":\"./log/\",\"OutputConsole\":true,\"Dev\":true,\"ServiceName\":\"api-server\",\"Port\":9999,\"BindAddress\":\"\"},\"MongoConfig\":{\"Protocol\":\"mongodb\",\"Database\":\"books\",\"Username\":\"db_user\",\"Password\":\"db_pwd\",\"Host\":\"127.0.0.1\",\"Port\":27017,\"MaxPoolSize\":0,\"ConnectionTimeout\":0,\"UriParams\":\"\"}}"}
{"level":"info","time":"2022-06-11 14:26:30.615","line":"initialization/mongodb_init.go:23","msg":"The mongo url","serviceName":"api-server","url":"mongodb://db_user:db_pwd@127.0.0.1:27017/books"}
{"level":"info","time":"2022-06-11 14:26:44.081","line":"api-server/api.go:30","msg":"the configuration parsed","serviceName":"api-server","content":"{\"ApiServerConfig\":{\"LogLevel\":\"INFO\",\"LogPath\":\"./log/\",\"OutputConsole\":true,\"Dev\":true,\"ServiceName\":\"api-server\",\"Port\":9999,\"BindAddress\":\"\"},\"MongoConfig\":{\"Protocol\":\"mongodb\",\"Database\":\"books\",\"Username\":\"db_user\",\"Password\":\"db_pwd\",\"Host\":\"127.0.0.1\",\"Port\":27017,\"MaxPoolSize\":0,\"ConnectionTimeout\":0,\"UriParams\":\"\"}}"}
{"level":"info","time":"2022-06-11 14:26:44.081","line":"initialization/mongodb_init.go:23","msg":"The mongo url","serviceName":"api-server","url":"mongodb://db_user:db_pwd@127.0.0.1:27017/books"}
{"level":"info","time":"2022-06-11 14:27:00.970","line":"api-server/api.go:30","msg":"the configuration parsed","serviceName":"api-server","content":"{\"ApiServerConfig\":{\"LogLevel\":\"INFO\",\"LogPath\":\"./log/\",\"OutputConsole\":true,\"Dev\":true,\"ServiceName\":\"api-server\",\"Port\":9999,\"BindAddress\":\"\"},\"MongoConfig\":{\"Protocol\":\"mongodb\",\"Database\":\"books\",\"Username\":\"db_user\",\"Password\":\"db_pwd\",\"Host\":\"127.0.0.1\",\"Port\":27017,\"MaxPoolSize\":0,\"ConnectionTimeout\":0,\"UriParams\":\"\"}}"}
{"level":"info","time":"2022-06-11 14:27:00.970","line":"initialization/mongodb_init.go:23","msg":"The mongo url","serviceName":"api-server","url":"mongodb://db_user:db_pwd@127.0.0.1:27017/books"}
{"level":"info","time":"2022-06-11 14:27:31.179","line":"api-server/api.go:30","msg":"the configuration parsed","serviceName":"api-server","content":"{\"ApiServerConfig\":{\"LogLevel\":\"INFO\",\"LogPath\":\"./log/\",\"OutputConsole\":true,\"Dev\":true,\"ServiceName\":\"api-server\",\"Port\":9999,\"BindAddress\":\"\"},\"MongoConfig\":{\"Protocol\":\"mongodb\",\"Database\":\"books\",\"Username\":\"db_user\",\"Password\":\"db_pwd\",\"Host\":\"127.0.0.1\",\"Port\":27017,\"MaxPoolSize\":0,\"ConnectionTimeout\":0,\"UriParams\":\"\"}}"}
{"level":"info","time":"2022-06-11 14:27:31.180","line":"initialization/mongodb_init.go:23","msg":"The mongo url","serviceName":"api-server","url":"mongodb://db_user:db_pwd@127.0.0.1:27017/books"}
{"level":"info","time":"2022-06-11 14:27:46.826","line":"api-server/api.go:30","msg":"the configuration parsed","serviceName":"api-server","content":"{\"ApiServerConfig\":{\"LogLevel\":\"INFO\",\"LogPath\":\"./log/\",\"OutputConsole\":true,\"Dev\":true,\"ServiceName\":\"api-server\",\"Port\":9999,\"BindAddress\":\"\"},\"MongoConfig\":{\"Protocol\":\"mongodb\",\"Database\":\"books\",\"Username\":\"db_user\",\"Password\":\"db_pwd\",\"Host\":\"127.0.0.1\",\"Port\":27017,\"MaxPoolSize\":0,\"ConnectionTimeout\":0,\"UriParams\":\"\"}}"}
{"level":"info","time":"2022-06-11 14:27:46.827","line":"initialization/mongodb_init.go:23","msg":"The mongo url","serviceName":"api-server","url":"mongodb://db_user:db_pwd@127.0.0.1:27017/books"}
{"level":"info","time":"2022-06-11 14:29:13.752","line":"api-server/api.go:30","msg":"the configuration parsed","serviceName":"api-server","content":"{\"ApiServerConfig\":{\"LogLevel\":\"INFO\",\"LogPath\":\"./log/\",\"OutputConsole\":true,\"Dev\":true,\"ServiceName\":\"api-server\",\"Port\":9999,\"BindAddress\":\"\"},\"MongoConfig\":{\"Protocol\":\"mongodb\",\"Database\":\"books\",\"Username\":\"db_user\",\"Password\":\"db_pwd\",\"Host\":\"127.0.0.1\",\"Port\":27017,\"MaxPoolSize\":0,\"ConnectionTimeout\":0,\"UriParams\":\"\"}}"}
{"level":"info","time":"2022-06-11 14:29:13.754","line":"initialization/mongodb_init.go:23","msg":"The mongo url","serviceName":"api-server","url":"mongodb://db_user:db_pwd@127.0.0.1:27017/books?retryWrites=true&w=majority&authSource=admin"}
{"level":"info","time":"2022-06-11 14:29:13.777","line":"initialization/mongodb_init.go:43","msg":"Connecting mongoDB successfully","serviceName":"api-server"}
{"level":"info","time":"2022-06-11 14:38:17.344","line":"api-server/api.go:30","msg":"the configuration parsed","serviceName":"api-server","content":"{\"ApiServerConfig\":{\"LogLevel\":\"INFO\",\"LogPath\":\"./log/\",\"OutputConsole\":true,\"Dev\":true,\"ServiceName\":\"api-server\",\"Port\":9999,\"BindAddress\":\"\"},\"MongoConfig\":{\"Uri\":\"mongodb://db_user:db_pwd@127.0.0.1:27017/books?retryWrites=true\\u0026w=majority\\u0026authSource=admin\\u0026maxPoolSize=20\"}}"}
{"level":"info","time":"2022-06-11 14:38:17.344","line":"initialization/mongodb_init.go:19","msg":"The mongo url","serviceName":"api-server","url":"mongodb://db_user:db_pwd@127.0.0.1:27017/books?retryWrites=true&w=majority&authSource=admin&maxPoolSize=20"}
{"level":"info","time":"2022-06-11 14:38:17.366","line":"initialization/mongodb_init.go:39","msg":"Connecting mongoDB successfully","serviceName":"api-server"}
{"level":"info","time":"2022-06-11 21:32:13.131","line":"api-server/api.go:30","msg":"the configuration parsed","serviceName":"api-server","content":"{\"ApiServerConfig\":{\"LogLevel\":\"INFO\",\"LogPath\":\"./log/\",\"OutputConsole\":true,\"Dev\":true,\"ServiceName\":\"api-server\",\"Port\":9999,\"BindAddress\":\"\"},\"MongoConfig\":{\"Uri\":\"mongodb://db_user:db_pwd@127.0.0.1:27017/books?retryWrites=true\\u0026w=majority\\u0026authSource=admin\\u0026maxPoolSize=20\",\"Database\":\"books\"}}"}
{"level":"info","time":"2022-06-11 21:32:13.132","line":"initialization/mongodb_init.go:18","msg":"The mongo url","serviceName":"api-server","url":"mongodb://db_user:db_pwd@127.0.0.1:27017/books?retryWrites=true&w=majority&authSource=admin&maxPoolSize=20"}
{"level":"info","time":"2022-06-12 14:03:26.033","line":"api-server/api.go:30","msg":"the configuration parsed","serviceName":"api-server","content":"{\"ApiServerConfig\":{\"LogLevel\":\"INFO\",\"LogPath\":\"./log/\",\"OutputConsole\":true,\"Dev\":true,\"ServiceName\":\"api-server\",\"Port\":9999,\"BindAddress\":\"\"},\"MongoConfig\":{\"Uri\":\"mongodb://db_user:db_pwd@127.0.0.1:27017/books?retryWrites=true\\u0026w=majority\\u0026authSource=admin\\u0026maxPoolSize=20\",\"Database\":\"books\"}}"}
{"level":"info","time":"2022-06-12 14:03:26.034","line":"initialization/mongodb_init.go:18","msg":"The mongo url","serviceName":"api-server","url":"mongodb://db_user:db_pwd@127.0.0.1:27017/books?retryWrites=true&w=majority&authSource=admin&maxPoolSize=20"}
{"level":"info","time":"2022-06-12 14:03:26.078","line":"initialization/mongodb_init.go:38","msg":"Connecting mongoDB successfully","serviceName":"api-server"}
{"level":"info","time":"2022-06-12 14:04:11.256","line":"api-server/api.go:30","msg":"the configuration parsed","serviceName":"api-server","content":"{\"ApiServerConfig\":{\"LogLevel\":\"INFO\",\"LogPath\":\"./log/\",\"OutputConsole\":true,\"Dev\":true,\"ServiceName\":\"api-server\",\"Port\":9999,\"BindAddress\":\"\"},\"MongoConfig\":{\"Uri\":\"mongodb://db_user:db_pwd@127.0.0.1:27017/books?retryWrites=true\\u0026w=majority\\u0026authSource=admin\\u0026maxPoolSize=20\",\"Database\":\"books\"}}"}
{"level":"info","time":"2022-06-12 14:04:11.287","line":"initialization/mongodb_init.go:36","msg":"Connecting mongoDB successfully","serviceName":"api-server"}
{"level":"info","time":"2022-06-12 14:07:58.180","line":"api-server/api.go:30","msg":"the configuration parsed","serviceName":"api-server","content":"{\"ApiServerConfig\":{\"LogLevel\":\"INFO\",\"LogPath\":\"./log/\",\"OutputConsole\":true,\"Dev\":true,\"ServiceName\":\"api-server\",\"Port\":9999,\"BindAddress\":\"\"},\"MongoConfig\":{\"Uri\":\"mongodb://db_user:db_pwd@127.0.0.1:27017/books?retryWrites=true\\u0026w=majority\\u0026authSource=admin\\u0026maxPoolSize=20\",\"Database\":\"books\"}}"}
{"level":"info","time":"2022-06-12 14:07:58.214","line":"initialization/mongodb_init.go:36","msg":"Connecting mongoDB successfully","serviceName":"api-server"}
{"level":"info","time":"2022-06-12 14:08:16.762","line":"initialization/rest_init.go:21","msg":"A request incoming","serviceName":"api-server"}
{"level":"warn","time":"2022-06-12 14:08:21.093","line":"service/catalog_service.go:37","msg":"An error occurs while getting a list of catalogs","serviceName":"api-server","error":"client is disconnected"}
{"level":"error","time":"2022-06-12 14:08:24.704","line":"initialization/gin_recovery.go:44","msg":"[Recovery from panic]","serviceName":"api-server","error":"runtime error: invalid memory address or nil pointer dereference","request":"GET /api/v1/catalogs HTTP/1.1\r\nHost: localhost:9999\r\nAccept-Encoding: gzip,deflate\r\nConnection: Keep-Alive\r\nContent-Type: application/json\r\nUser-Agent: Apache-HttpClient/4.5.13 (Java/11.0.15)\r\n\r\n","stack":"goroutine 20 [running]:\nruntime/debug.Stack()\n\t/home/jujucom/Desktop/workspace/install/go/src/runtime/debug/stack.go:24 +0x7a\napi/initialization.GinRecovery.func1.1()\n\t/home/jujucom/Desktop/workspace/projects/go_samples/books/api-server/initialization/gin_recovery.go:47 +0x6c9\npanic({0xfe5b40, 0x15813f0})\n\t/home/jujucom/Desktop/workspace/install/go/src/runtime/panic.go:844 +0x25a\ngo.mongodb.org/mongo-driver/mongo.(*Cursor).closeImplicitSession(0x0)\n\t/home/jujucom/go/pkg/mod/go.mongodb.org/mongo-driver@v1.9.1/mongo/cursor.go:309 +0x19\npanic({0xfe5b40, 0x15813f0})\n\t/home/jujucom/Desktop/workspace/install/go/src/runtime/panic.go:844 +0x25a\ngo.mongodb.org/mongo-driver/mongo.(*Cursor).Close(0x0, {0x1157468, 0xc0001a0008})\n\t/home/jujucom/go/pkg/mod/go.mongodb.org/mongo-driver@v1.9.1/mongo/cursor.go:222 +0xa4\napi/service.(*CatalogService).List(0xc000504100)\n\t/home/jujucom/Desktop/workspace/projects/go_samples/books/api-server/service/catalog_service.go:38 +0x447\napi/api.ListCatalogs(0xc00001a200)\n\t/home/jujucom/Desktop/workspace/projects/go_samples/books/api-server/api/handlers.go:27 +0x3a\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00001a200)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/context.go:173 +0x7d\napi/initialization.GinRecovery.func1(0xc00001a200)\n\t/home/jujucom/Desktop/workspace/projects/go_samples/books/api-server/initialization/gin_recovery.go:58 +0x8c\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00001a200)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/context.go:173 +0x7d\napi/common.GinLogger.func1(0xc00001a200)\n\t/home/jujucom/Desktop/workspace/projects/go_samples/books/api-server/common/log_init.go:96 +0xab\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00001a200)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/context.go:173 +0x7d\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1(0xc00001a200)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/recovery.go:101 +0xb8\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00001a200)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/context.go:173 +0x7d\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0xc00001a200)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/logger.go:240 +0xf2\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00001a200)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/context.go:173 +0x7d\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc000602340, 0xc00001a200)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/gin.go:616 +0x429\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc000602340, {0x1156c18, 0xc0004ae1c0}, 0xc00001a100)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/gin.go:572 +0xbb\nnet/http.serverHandler.ServeHTTP({0xc0004ae0e0}, {0x1156c18, 0xc0004ae1c0}, 0xc00001a100)\n\t/home/jujucom/Desktop/workspace/install/go/src/net/http/server.go:2916 +0x474\nnet/http.(*conn).serve(0xc0001cc000, {0x1157430, 0xc000046140})\n\t/home/jujucom/Desktop/workspace/install/go/src/net/http/server.go:1966 +0x193c\ncreated by net/http.(*Server).Serve\n\t/home/jujucom/Desktop/workspace/install/go/src/net/http/server.go:3071 +0x9cf\n"}
{"level":"info","time":"2022-06-12 14:08:24.705","line":"common/log_init.go:99","msg":"/api/v1/catalogs","serviceName":"api-server","status":500,"method":"GET","path":"/api/v1/catalogs","query":"","ip":"127.0.0.1","user-agent":"Apache-HttpClient/4.5.13 (Java/11.0.15)","errors":"","cost":7.942297702}
{"level":"info","time":"2022-06-12 14:09:38.390","line":"initialization/rest_init.go:21","msg":"A request incoming","serviceName":"api-server"}
{"level":"warn","time":"2022-06-12 14:10:03.271","line":"service/catalog_service.go:37","msg":"An error occurs while getting a list of catalogs","serviceName":"api-server","error":"client is disconnected"}
{"level":"error","time":"2022-06-12 14:10:03.274","line":"initialization/gin_recovery.go:44","msg":"[Recovery from panic]","serviceName":"api-server","error":"runtime error: invalid memory address or nil pointer dereference","request":"GET /api/v1/catalogs HTTP/1.1\r\nHost: localhost:9999\r\nAccept-Encoding: gzip,deflate\r\nConnection: Keep-Alive\r\nContent-Type: application/json\r\nUser-Agent: Apache-HttpClient/4.5.13 (Java/11.0.15)\r\n\r\n","stack":"goroutine 67 [running]:\nruntime/debug.Stack()\n\t/home/jujucom/Desktop/workspace/install/go/src/runtime/debug/stack.go:24 +0x7a\napi/initialization.GinRecovery.func1.1()\n\t/home/jujucom/Desktop/workspace/projects/go_samples/books/api-server/initialization/gin_recovery.go:47 +0x6c9\npanic({0xfe5b40, 0x15813f0})\n\t/home/jujucom/Desktop/workspace/install/go/src/runtime/panic.go:844 +0x25a\ngo.mongodb.org/mongo-driver/mongo.(*Cursor).closeImplicitSession(0x0)\n\t/home/jujucom/go/pkg/mod/go.mongodb.org/mongo-driver@v1.9.1/mongo/cursor.go:309 +0x19\npanic({0xfe5b40, 0x15813f0})\n\t/home/jujucom/Desktop/workspace/install/go/src/runtime/panic.go:844 +0x25a\ngo.mongodb.org/mongo-driver/mongo.(*Cursor).Close(0x0, {0x1157468, 0xc0001a0008})\n\t/home/jujucom/go/pkg/mod/go.mongodb.org/mongo-driver@v1.9.1/mongo/cursor.go:222 +0xa4\napi/service.(*CatalogService).List(0xc000504100)\n\t/home/jujucom/Desktop/workspace/projects/go_samples/books/api-server/service/catalog_service.go:38 +0x447\napi/api.ListCatalogs(0xc000108900)\n\t/home/jujucom/Desktop/workspace/projects/go_samples/books/api-server/api/handlers.go:27 +0x3a\ngithub.com/gin-gonic/gin.(*Context).Next(0xc000108900)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/context.go:173 +0x7d\napi/initialization.GinRecovery.func1(0xc000108900)\n\t/home/jujucom/Desktop/workspace/projects/go_samples/books/api-server/initialization/gin_recovery.go:58 +0x8c\ngithub.com/gin-gonic/gin.(*Context).Next(0xc000108900)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/context.go:173 +0x7d\napi/common.GinLogger.func1(0xc000108900)\n\t/home/jujucom/Desktop/workspace/projects/go_samples/books/api-server/common/log_init.go:96 +0xab\ngithub.com/gin-gonic/gin.(*Context).Next(0xc000108900)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/context.go:173 +0x7d\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1(0xc000108900)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/recovery.go:101 +0xb8\ngithub.com/gin-gonic/gin.(*Context).Next(0xc000108900)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/context.go:173 +0x7d\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0xc000108900)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/logger.go:240 +0xf2\ngithub.com/gin-gonic/gin.(*Context).Next(0xc000108900)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/context.go:173 +0x7d\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc000602340, 0xc000108900)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/gin.go:616 +0x429\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc000602340, {0x1156c18, 0xc00015e0e0}, 0xc000108800)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/gin.go:572 +0xbb\nnet/http.serverHandler.ServeHTTP({0xc0004ae0e0}, {0x1156c18, 0xc00015e0e0}, 0xc000108800)\n\t/home/jujucom/Desktop/workspace/install/go/src/net/http/server.go:2916 +0x474\nnet/http.(*conn).serve(0xc0004e2500, {0x1157430, 0xc0004f1140})\n\t/home/jujucom/Desktop/workspace/install/go/src/net/http/server.go:1966 +0x193c\ncreated by net/http.(*Server).Serve\n\t/home/jujucom/Desktop/workspace/install/go/src/net/http/server.go:3071 +0x9cf\n"}
{"level":"info","time":"2022-06-12 14:10:03.275","line":"common/log_init.go:99","msg":"/api/v1/catalogs","serviceName":"api-server","status":500,"method":"GET","path":"/api/v1/catalogs","query":"","ip":"127.0.0.1","user-agent":"Apache-HttpClient/4.5.13 (Java/11.0.15)","errors":"","cost":24.88519756}
{"level":"info","time":"2022-06-12 14:16:14.997","line":"api-server/api.go:30","msg":"the configuration parsed","serviceName":"api-server","content":"{\"ApiServerConfig\":{\"LogLevel\":\"INFO\",\"LogPath\":\"./log/\",\"OutputConsole\":true,\"Dev\":true,\"ServiceName\":\"api-server\",\"Port\":9999,\"BindAddress\":\"\"},\"MongoConfig\":{\"Uri\":\"mongodb://db_user:db_pwd@127.0.0.1:27017/books?retryWrites=true\\u0026w=majority\\u0026authSource=admin\\u0026maxPoolSize=20\",\"Database\":\"books\"}}"}
{"level":"info","time":"2022-06-12 14:16:15.056","line":"initialization/mongodb_init.go:36","msg":"Connecting mongoDB successfully","serviceName":"api-server"}
{"level":"info","time":"2022-06-12 14:16:19.873","line":"initialization/rest_init.go:21","msg":"A request incoming","serviceName":"api-server"}
{"level":"warn","time":"2022-06-12 14:16:27.519","line":"service/catalog_service.go:37","msg":"An error occurs while getting a list of catalogs","serviceName":"api-server","error":"client is disconnected"}
{"level":"error","time":"2022-06-12 14:16:29.002","line":"initialization/gin_recovery.go:44","msg":"[Recovery from panic]","serviceName":"api-server","error":"runtime error: invalid memory address or nil pointer dereference","request":"GET /api/v1/catalogs HTTP/1.1\r\nHost: localhost:9999\r\nAccept-Encoding: gzip,deflate\r\nConnection: Keep-Alive\r\nContent-Type: application/json\r\nUser-Agent: Apache-HttpClient/4.5.13 (Java/11.0.15)\r\n\r\n","stack":"goroutine 88 [running]:\nruntime/debug.Stack()\n\t/home/jujucom/Desktop/workspace/install/go/src/runtime/debug/stack.go:24 +0x7a\napi/initialization.GinRecovery.func1.1()\n\t/home/jujucom/Desktop/workspace/projects/go_samples/books/api-server/initialization/gin_recovery.go:47 +0x6c9\npanic({0xfe5b80, 0x1581410})\n\t/home/jujucom/Desktop/workspace/install/go/src/runtime/panic.go:844 +0x25a\ngo.mongodb.org/mongo-driver/mongo.(*Cursor).closeImplicitSession(0x0)\n\t/home/jujucom/go/pkg/mod/go.mongodb.org/mongo-driver@v1.9.1/mongo/cursor.go:309 +0x19\npanic({0xfe5b80, 0x1581410})\n\t/home/jujucom/Desktop/workspace/install/go/src/runtime/panic.go:844 +0x25a\ngo.mongodb.org/mongo-driver/mongo.(*Cursor).Close(0x0, {0x11574c8, 0xc0000400f0})\n\t/home/jujucom/go/pkg/mod/go.mongodb.org/mongo-driver@v1.9.1/mongo/cursor.go:222 +0xa4\napi/service.(*CatalogService).List(0xc0002d4230)\n\t/home/jujucom/Desktop/workspace/projects/go_samples/books/api-server/service/catalog_service.go:38 +0x48e\napi/api.ListCatalogs(0xc0005da100)\n\t/home/jujucom/Desktop/workspace/projects/go_samples/books/api-server/api/handlers.go:28 +0x5b\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0005da100)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/context.go:173 +0x7d\napi/initialization.GinRecovery.func1(0xc0005da100)\n\t/home/jujucom/Desktop/workspace/projects/go_samples/books/api-server/initialization/gin_recovery.go:58 +0x8c\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0005da100)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/context.go:173 +0x7d\napi/common.GinLogger.func1(0xc0005da100)\n\t/home/jujucom/Desktop/workspace/projects/go_samples/books/api-server/common/log_init.go:96 +0xab\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0005da100)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/context.go:173 +0x7d\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1(0xc0005da100)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/recovery.go:101 +0xb8\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0005da100)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/context.go:173 +0x7d\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0xc0005da100)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/logger.go:240 +0xf2\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0005da100)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/context.go:173 +0x7d\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc000582d00, 0xc0005da100)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/gin.go:616 +0x429\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc000582d00, {0x1156c78, 0xc0005122a0}, 0xc0005da000)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/gin.go:572 +0xbb\nnet/http.serverHandler.ServeHTTP({0xc0005121c0}, {0x1156c78, 0xc0005122a0}, 0xc0005da000)\n\t/home/jujucom/Desktop/workspace/install/go/src/net/http/server.go:2916 +0x474\nnet/http.(*conn).serve(0xc0004c2c80, {0x1157490, 0xc00060e300})\n\t/home/jujucom/Desktop/workspace/install/go/src/net/http/server.go:1966 +0x193c\ncreated by net/http.(*Server).Serve\n\t/home/jujucom/Desktop/workspace/install/go/src/net/http/server.go:3071 +0x9cf\n"}
{"level":"info","time":"2022-06-12 14:16:29.002","line":"common/log_init.go:99","msg":"/api/v1/catalogs","serviceName":"api-server","status":500,"method":"GET","path":"/api/v1/catalogs","query":"","ip":"127.0.0.1","user-agent":"Apache-HttpClient/4.5.13 (Java/11.0.15)","errors":"","cost":9.129084606}
{"level":"info","time":"2022-06-12 14:41:02.970","line":"api-server/api.go:30","msg":"the configuration parsed","serviceName":"api-server","content":"{\"ApiServerConfig\":{\"LogLevel\":\"INFO\",\"LogPath\":\"./log/\",\"OutputConsole\":true,\"Dev\":true,\"ServiceName\":\"api-server\",\"Port\":9999,\"BindAddress\":\"\"},\"MongoConfig\":{\"Uri\":\"mongodb://db_user:db_pwd@127.0.0.1:27017/books?retryWrites=true\\u0026w=majority\\u0026authSource=admin\\u0026maxPoolSize=20\",\"Database\":\"books\"}}"}
{"level":"info","time":"2022-06-12 14:41:03.019","line":"initialization/mongodb_init.go:32","msg":"Connecting mongoDB successfully","serviceName":"api-server"}
{"level":"info","time":"2022-06-12 14:41:09.162","line":"initialization/rest_init.go:21","msg":"A request incoming","serviceName":"api-server"}
{"level":"warn","time":"2022-06-12 14:41:47.849","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"warn","time":"2022-06-12 14:41:47.849","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"warn","time":"2022-06-12 14:41:47.849","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"warn","time":"2022-06-12 14:41:47.849","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"warn","time":"2022-06-12 14:41:47.849","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"warn","time":"2022-06-12 14:41:47.849","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"warn","time":"2022-06-12 14:41:47.849","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"warn","time":"2022-06-12 14:41:47.849","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"warn","time":"2022-06-12 14:41:47.849","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"warn","time":"2022-06-12 14:41:47.849","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"warn","time":"2022-06-12 14:41:47.849","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"warn","time":"2022-06-12 14:41:47.850","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"warn","time":"2022-06-12 14:41:47.850","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"warn","time":"2022-06-12 14:41:47.850","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"warn","time":"2022-06-12 14:41:47.850","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"info","time":"2022-06-12 14:41:47.850","line":"common/log_init.go:99","msg":"/api/v1/catalogs","serviceName":"api-server","status":200,"method":"GET","path":"/api/v1/catalogs","query":"","ip":"127.0.0.1","user-agent":"Apache-HttpClient/4.5.13 (Java/11.0.15)","errors":"","cost":38.687429359}
{"level":"info","time":"2022-06-12 14:48:03.138","line":"initialization/rest_init.go:21","msg":"A request incoming","serviceName":"api-server"}
{"level":"warn","time":"2022-06-12 14:48:54.985","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"warn","time":"2022-06-12 14:48:54.985","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"warn","time":"2022-06-12 14:48:54.985","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"warn","time":"2022-06-12 14:48:54.986","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"warn","time":"2022-06-12 14:48:54.986","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"warn","time":"2022-06-12 14:48:54.986","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"warn","time":"2022-06-12 14:48:54.986","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"warn","time":"2022-06-12 14:48:54.986","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"warn","time":"2022-06-12 14:48:54.986","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"warn","time":"2022-06-12 14:48:54.986","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"warn","time":"2022-06-12 14:48:54.986","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"warn","time":"2022-06-12 14:48:54.986","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"warn","time":"2022-06-12 14:48:54.986","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"warn","time":"2022-06-12 14:48:54.986","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"warn","time":"2022-06-12 14:48:54.986","line":"service/catalog_service.go:45","msg":"An error occurs while decoding a book catalog","serviceName":"api-server","error":"cannot Decode to nil value"}
{"level":"info","time":"2022-06-12 14:48:54.986","line":"common/log_init.go:99","msg":"/api/v1/catalogs","serviceName":"api-server","status":200,"method":"GET","path":"/api/v1/catalogs","query":"","ip":"127.0.0.1","user-agent":"Apache-HttpClient/4.5.13 (Java/11.0.15)","errors":"","cost":51.848773849}
{"level":"info","time":"2022-06-12 14:49:50.832","line":"api-server/api.go:30","msg":"the configuration parsed","serviceName":"api-server","content":"{\"ApiServerConfig\":{\"LogLevel\":\"INFO\",\"LogPath\":\"./log/\",\"OutputConsole\":true,\"Dev\":true,\"ServiceName\":\"api-server\",\"Port\":9999,\"BindAddress\":\"\"},\"MongoConfig\":{\"Uri\":\"mongodb://db_user:db_pwd@127.0.0.1:27017/books?retryWrites=true\\u0026w=majority\\u0026authSource=admin\\u0026maxPoolSize=20\",\"Database\":\"books\"}}"}
{"level":"info","time":"2022-06-12 14:49:50.869","line":"initialization/mongodb_init.go:32","msg":"Connecting mongoDB successfully","serviceName":"api-server"}
{"level":"info","time":"2022-06-12 14:49:54.658","line":"initialization/rest_init.go:21","msg":"A request incoming","serviceName":"api-server"}
{"level":"info","time":"2022-06-12 14:50:06.218","line":"common/log_init.go:99","msg":"/api/v1/catalogs","serviceName":"api-server","status":200,"method":"GET","path":"/api/v1/catalogs","query":"","ip":"127.0.0.1","user-agent":"Apache-HttpClient/4.5.13 (Java/11.0.15)","errors":"","cost":11.560106961}
{"level":"info","time":"2022-06-12 14:50:20.376","line":"initialization/rest_init.go:21","msg":"A request incoming","serviceName":"api-server"}
{"level":"info","time":"2022-06-12 14:50:25.336","line":"common/log_init.go:99","msg":"/api/v1/catalogs","serviceName":"api-server","status":200,"method":"GET","path":"/api/v1/catalogs","query":"","ip":"127.0.0.1","user-agent":"Apache-HttpClient/4.5.13 (Java/11.0.15)","errors":"","cost":4.960293392}
{"level":"info","time":"2022-06-12 15:43:23.756","line":"initialization/rest_init.go:21","msg":"A request incoming","serviceName":"api-server"}
{"level":"info","time":"2022-06-12 15:43:26.682","line":"common/log_init.go:99","msg":"/api/v1/catalogs","serviceName":"api-server","status":200,"method":"GET","path":"/api/v1/catalogs","query":"","ip":"127.0.0.1","user-agent":"Apache-HttpClient/4.5.13 (Java/11.0.15)","errors":"","cost":2.925674196}
{"level":"info","time":"2022-06-12 15:43:59.331","line":"initialization/rest_init.go:21","msg":"A request incoming","serviceName":"api-server"}
{"level":"info","time":"2022-06-12 15:43:59.333","line":"common/log_init.go:99","msg":"/api/v1/catalogs","serviceName":"api-server","status":200,"method":"GET","path":"/api/v1/catalogs","query":"","ip":"127.0.0.1","user-agent":"Apache-HttpClient/4.5.13 (Java/11.0.15)","errors":"","cost":0.001789833}
{"level":"info","time":"2022-06-12 15:44:15.966","line":"initialization/rest_init.go:21","msg":"A request incoming","serviceName":"api-server"}
{"level":"info","time":"2022-06-12 15:44:15.968","line":"common/log_init.go:99","msg":"/api/v1/catalogs","serviceName":"api-server","status":200,"method":"GET","path":"/api/v1/catalogs","query":"","ip":"127.0.0.1","user-agent":"Apache-HttpClient/4.5.13 (Java/11.0.15)","errors":"","cost":0.001839089}
{"level":"info","time":"2022-06-12 15:45:15.870","line":"initialization/rest_init.go:21","msg":"A request incoming","serviceName":"api-server"}
{"level":"info","time":"2022-06-12 15:45:15.883","line":"common/log_init.go:99","msg":"/api/v1/catalogs","serviceName":"api-server","status":200,"method":"GET","path":"/api/v1/catalogs","query":"","ip":"127.0.0.1","user-agent":"Apache-HttpClient/4.5.13 (Java/11.0.15)","errors":"","cost":0.012975311}
{"level":"info","time":"2022-06-12 15:45:46.610","line":"initialization/rest_init.go:21","msg":"A request incoming","serviceName":"api-server"}
{"level":"warn","time":"2022-06-12 15:46:16.611","line":"service/catalog_service.go:37","msg":"An error occurs while getting a list of catalogs","serviceName":"api-server","error":"server selection error: server selection timeout, current topology: { Type: Single, Servers: [{ Addr: 127.0.0.1:27017, Type: Unknown, Last error: connection() error occurred during connection handshake: dial tcp 127.0.0.1:27017: connect: connection refused }, ] }"}
{"level":"error","time":"2022-06-12 15:46:16.613","line":"initialization/gin_recovery.go:44","msg":"[Recovery from panic]","serviceName":"api-server","error":"runtime error: invalid memory address or nil pointer dereference","request":"GET /api/v1/catalogs HTTP/1.1\r\nHost: localhost:9999\r\nAccept-Encoding: gzip,deflate\r\nConnection: Keep-Alive\r\nContent-Type: application/json\r\nUser-Agent: Apache-HttpClient/4.5.13 (Java/11.0.15)\r\n\r\n","stack":"goroutine 1108 [running]:\nruntime/debug.Stack()\n\t/home/jujucom/Desktop/workspace/install/go/src/runtime/debug/stack.go:24 +0x7a\napi/initialization.GinRecovery.func1.1()\n\t/home/jujucom/Desktop/workspace/projects/go_samples/books/api-server/initialization/gin_recovery.go:47 +0x6c9\npanic({0xfe5be0, 0x1581410})\n\t/home/jujucom/Desktop/workspace/install/go/src/runtime/panic.go:844 +0x25a\ngo.mongodb.org/mongo-driver/mongo.(*Cursor).closeImplicitSession(0x0)\n\t/home/jujucom/go/pkg/mod/go.mongodb.org/mongo-driver@v1.9.1/mongo/cursor.go:309 +0x19\npanic({0xfe5be0, 0x1581410})\n\t/home/jujucom/Desktop/workspace/install/go/src/runtime/panic.go:844 +0x25a\ngo.mongodb.org/mongo-driver/mongo.(*Cursor).Close(0x0, {0x11576a8, 0xc0000400f0})\n\t/home/jujucom/go/pkg/mod/go.mongodb.org/mongo-driver@v1.9.1/mongo/cursor.go:222 +0xa4\napi/service.(*CatalogService).List(0xc000118100)\n\t/home/jujucom/Desktop/workspace/projects/go_samples/books/api-server/service/catalog_service.go:38 +0x48e\napi/api.ListCatalogs(0xc0002c8300)\n\t/home/jujucom/Desktop/workspace/projects/go_samples/books/api-server/api/handlers.go:28 +0x5b\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0002c8300)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/context.go:173 +0x7d\napi/initialization.GinRecovery.func1(0xc0002c8300)\n\t/home/jujucom/Desktop/workspace/projects/go_samples/books/api-server/initialization/gin_recovery.go:58 +0x8c\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0002c8300)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/context.go:173 +0x7d\napi/common.GinLogger.func1(0xc0002c8300)\n\t/home/jujucom/Desktop/workspace/projects/go_samples/books/api-server/common/log_init.go:96 +0xab\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0002c8300)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/context.go:173 +0x7d\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1(0xc0002c8300)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/recovery.go:101 +0xb8\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0002c8300)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/context.go:173 +0x7d\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0xc0002c8300)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/logger.go:240 +0xf2\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0002c8300)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/context.go:173 +0x7d\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc00054c000, 0xc0002c8300)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/gin.go:616 +0x429\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc00054c000, {0x1156e58, 0xc0000be460}, 0xc0002c8600)\n\t/home/jujucom/go/pkg/mod/github.com/gin-gonic/gin@v1.8.1/gin.go:572 +0xbb\nnet/http.serverHandler.ServeHTTP({0xc0004860e0}, {0x1156e58, 0xc0000be460}, 0xc0002c8600)\n\t/home/jujucom/Desktop/workspace/install/go/src/net/http/server.go:2916 +0x474\nnet/http.(*conn).serve(0xc0003c6d20, {0x1157670, 0xc000412000})\n\t/home/jujucom/Desktop/workspace/install/go/src/net/http/server.go:1966 +0x193c\ncreated by net/http.(*Server).Serve\n\t/home/jujucom/Desktop/workspace/install/go/src/net/http/server.go:3071 +0x9cf\n"}
{"level":"info","time":"2022-06-12 15:46:16.613","line":"common/log_init.go:99","msg":"/api/v1/catalogs","serviceName":"api-server","status":500,"method":"GET","path":"/api/v1/catalogs","query":"","ip":"127.0.0.1","user-agent":"Apache-HttpClient/4.5.13 (Java/11.0.15)","errors":"","cost":30.003480857}
{"level":"info","time":"2022-06-12 15:46:48.974","line":"initialization/rest_init.go:21","msg":"A request incoming","serviceName":"api-server"}
{"level":"info","time":"2022-06-12 15:46:48.984","line":"common/log_init.go:99","msg":"/api/v1/catalogs","serviceName":"api-server","status":200,"method":"GET","path":"/api/v1/catalogs","query":"","ip":"127.0.0.1","user-agent":"Apache-HttpClient/4.5.13 (Java/11.0.15)","errors":"","cost":0.010149215}
{"level":"info","time":"2022-06-12 15:47:52.144","line":"initialization/rest_init.go:21","msg":"A request incoming","serviceName":"api-server"}
{"level":"info","time":"2022-06-12 15:47:52.146","line":"common/log_init.go:99","msg":"/api/v1/catalogs","serviceName":"api-server","status":200,"method":"GET","path":"/api/v1/catalogs","query":"","ip":"127.0.0.1","user-agent":"Apache-HttpClient/4.5.13 (Java/11.0.15)","errors":"","cost":0.001923663}
{"level":"info","time":"2022-06-12 20:25:42.280","line":"api-server/api.go:36","msg":"the configuration parsed","serviceName":"api-server","content":"{\"ApiServerConfig\":{\"LogLevel\":\"INFO\",\"LogPath\":\"./log/\",\"OutputConsole\":true,\"Dev\":true,\"ServiceName\":\"api-server\",\"Port\":9999,\"BindAddress\":\"\"},\"MongoConfig\":{\"Uri\":\"mongodb://db_user:db_pwd@127.0.0.1:27017/books?retryWrites=true\\u0026w=majority\\u0026authSource=admin\\u0026maxPoolSize=20\",\"Database\":\"books\"}}"}
{"level":"info","time":"2022-06-12 20:33:02.772","line":"api-server/api.go:36","msg":"the configuration parsed","serviceName":"api-server","content":"{\"ApiServerConfig\":{\"LogLevel\":\"INFO\",\"LogPath\":\"./log/\",\"OutputConsole\":true,\"Dev\":true,\"ServiceName\":\"api-server\",\"Port\":9999,\"BindAddress\":\"\"},\"MongoConfig\":{\"Uri\":\"mongodb://db_user:db_pwd@127.0.0.1:27017/books?retryWrites=true\\u0026w=majority\\u0026authSource=admin\\u0026maxPoolSize=20\",\"Database\":\"books\"}}"}
{"level":"info","time":"2022-06-12 20:36:50.475","line":"api-server/api.go:36","msg":"the configuration parsed","serviceName":"api-server","content":"{\"ApiServerConfig\":{\"LogLevel\":\"INFO\",\"LogPath\":\"./log/\",\"OutputConsole\":true,\"Dev\":true,\"ServiceName\":\"api-server\",\"Port\":9999,\"BindAddress\":\"\"},\"MongoConfig\":{\"Uri\":\"mongodb://db_user:db_pwd@127.0.0.1:27017/books?retryWrites=true\\u0026w=majority\\u0026authSource=admin\\u0026maxPoolSize=20\",\"Database\":\"books\"}}"}
{"level":"info","time":"2022-06-12 20:41:24.646","line":"api-server/api.go:36","msg":"the configuration parsed","serviceName":"api-server","content":"{\"ApiServerConfig\":{\"LogLevel\":\"INFO\",\"LogPath\":\"./log/\",\"OutputConsole\":true,\"Dev\":true,\"ServiceName\":\"api-server\",\"Port\":9999,\"BindAddress\":\"\"},\"MongoConfig\":{\"Uri\":\"mongodb://db_user:db_pwd@127.0.0.1:27017/books?retryWrites=true\\u0026w=majority\\u0026authSource=admin\\u0026maxPoolSize=20\",\"Database\":\"books\"}}"}
{"level":"info","time":"2022-06-12 20:41:24.689","line":"api-server/api.go:42","msg":"Connecting mongoDB successfully","serviceName":"api-server"}
{"level":"info","time":"2022-06-12 20:41:50.626","line":"initialization/rest_init.go:21","msg":"A request incoming","serviceName":"api-server"}
{"level":"info","time":"2022-06-12 20:41:50.630","line":"common/log_init.go:95","msg":"/api/v1/catalogs","serviceName":"api-server","status":200,"method":"GET","path":"/api/v1/catalogs","query":"","ip":"127.0.0.1","user-agent":"Apache-HttpClient/4.5.13 (Java/11.0.15)","errors":"","cost":0.003970135}
{"level":"info","time":"2022-06-12 21:12:49.782","line":"api-server/server.go:36","msg":"the configuration parsed","serviceName":"api-server","content":"{\"ApiServerConfig\":{\"LogLevel\":\"INFO\",\"LogPath\":\"./log/\",\"OutputConsole\":true,\"Dev\":true,\"ServiceName\":\"api-server\",\"Port\":9999,\"BindAddress\":\"\"},\"MongoConfig\":{\"Uri\":\"mongodb://db_user:db_pwd@127.0.0.1:27017/books?retryWrites=true\\u0026w=majority\\u0026authSource=admin\\u0026maxPoolSize=20\",\"Database\":\"books\"}}"}
{"level":"info","time":"2022-06-12 21:12:49.825","line":"api-server/server.go:42","msg":"Connecting mongoDB successfully","serviceName":"api-server"}
{"level":"info","time":"2022-06-12 21:13:01.863","line":"initialization/rest_init.go:21","msg":"A request incoming","serviceName":"api-server"}
{"level":"info","time":"2022-06-12 21:13:01.865","line":"initialization/log_init.go:96","msg":"/api/v1/catalogs","serviceName":"api-server","status":200,"method":"GET","path":"/api/v1/catalogs","query":"","ip":"127.0.0.1","user-agent":"Apache-HttpClient/4.5.13 (Java/11.0.15)","errors":"","cost":0.001965926}
{"level":"info","time":"2022-06-12 22:11:54.007","line":"api-server/server.go:36","msg":"the configuration parsed","serviceName":"api-server","content":"{\"ApiServerConfig\":{\"LogLevel\":\"INFO\",\"LogPath\":\"./log/\",\"OutputConsole\":true,\"Dev\":true,\"ServiceName\":\"api-server\",\"Port\":9999,\"BindAddress\":\"\"},\"MongoConfig\":{\"Uri\":\"mongodb://db_user:db_pwd@127.0.0.1:27017/books?retryWrites=true\\u0026w=majority\\u0026authSource=admin\\u0026maxPoolSize=20\",\"Database\":\"books\"}}"}
{"level":"error","time":"2022-06-12 22:12:04.009","line":"initialization/mongodb_init.go:30","msg":"Failed to Ping for mongodb","serviceName":"api-server","error":"server selection error: context deadline exceeded, current topology: { Type: Unknown, Servers: [{ Addr: 127.0.0.1:27017, Type: Unknown }, ] }"}
